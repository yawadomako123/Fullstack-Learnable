## рдиреАрддрд┐ рдХреА рдЬрд╛рдБрдЪ рдХрд░рдирд╛

рдЪреВрдВрдХрд┐ Q-Table рдкреНрд░рддреНрдпреЗрдХ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рдХреНрд░рд┐рдпрд╛ рдХреА "рдЖрдХрд░реНрд╖рдг" рд╕реВрдЪреАрдмрджреНрдз рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реНрд╡ рдореЗрдВ рдХреБрд╢рд▓ рдиреЗрд╡рд┐рдЧреЗрд╢рди рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╛рдлреА рдЖрд╕рд╛рди рд╣реИред рд╕рдмрд╕реЗ рд╕рд░рд▓ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдо рдЙрд╕ рдХреНрд░рд┐рдпрд╛ рдХрд╛ рдЪрдпрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ Q-Table рдХреЗ рдЙрдЪреНрдЪрддрдо рдореВрд▓реНрдп рд╕реЗ рдореЗрд▓ рдЦрд╛рддреА рд╣реИ: (рдХреЛрдб рдмреНрд▓реЙрдХ 9)

```python
def qpolicy_strict(m):
        x,y = m.human
        v = probs(Q[x,y])
        a = list(actions)[np.argmax(v)]
        return a

walk(m,qpolicy_strict)
```

> рдпрджрд┐ рдЖрдк рдКрдкрд░ рджрд┐рдП рдЧрдП рдХреЛрдб рдХреЛ рдХрдИ рдмрд╛рд░ рдЖрдЬрдорд╛рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХрднреА-рдХрднреА рдпрд╣ "рд▓рдЯрдХ" рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдЖрдкрдХреЛ рдЗрд╕реЗ рдмрд╛рдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдиреЛрдЯрдмреБрдХ рдореЗрдВ STOP рдмрдЯрди рджрдмрд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред рдРрд╕рд╛ рдЗрд╕рд▓рд┐рдП рд╣реЛрддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдРрд╕реА рд╕реНрдерд┐рддрд┐рдпрд╛рдБ рд╣реЛ рд╕рдХрддреА рд╣реИрдВ рдЬрдм рджреЛ рд░рд╛рдЬреНрдп рдЗрд╖реНрдЯрддрдо Q-Value рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рдПрдХ-рджреВрд╕рд░реЗ рдХреА рдУрд░ "рдЗрд╢рд╛рд░рд╛" рдХрд░рддреЗ рд╣реИрдВ, рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдПрдЬреЗрдВрдЯ рдЙрди рд░рд╛рдЬреНрдпреЛрдВ рдХреЗ рдмреАрдЪ рдЕрдирд┐рд╢реНрдЪрд┐рддрдХрд╛рд▓ рддрдХ рдЪрд▓рддрд╛ рд░рд╣рддрд╛ рд╣реИред

## ЁЯЪАрдЪреБрдиреМрддреА

> **рдХрд╛рд░реНрдп 1:** `walk` function to limit the maximum length of path by a certain number of steps (say, 100), and watch the code above return this value from time to time.

> **Task 2:** Modify the `walk` function so that it does not go back to the places where it has already been previously. This will prevent `walk` from looping, however, the agent can still end up being "trapped" in a location from which it is unable to escape.

## Navigation

A better navigation policy would be the one that we used during training, which combines exploitation and exploration. In this policy, we will select each action with a certain probability, proportional to the values in the Q-Table. This strategy may still result in the agent returning back to a position it has already explored, but, as you can see from the code below, it results in a very short average path to the desired location (remember that `print_statistics` рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░реЗрдВ рддрд╛рдХрд┐ рдпрд╣ рд╕рд┐рдореБрд▓реЗрд╢рди рдХреЛ 100 рдмрд╛рд░ рдЪрд▓рд╛рдП: (рдХреЛрдб рдмреНрд▓реЙрдХ 10)

```python
def qpolicy(m):
        x,y = m.human
        v = probs(Q[x,y])
        a = random.choices(list(actions),weights=v)[0]
        return a

print_statistics(qpolicy)
```

рдЗрд╕ рдХреЛрдб рдХреЛ рдЪрд▓рд╛рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдкрдХреЛ рдкрд╣рд▓реЗ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдФрд╕рдд рдкрде рд▓рдВрдмрд╛рдИ рдмрд╣реБрдд рдХрдо рдорд┐рд▓рдиреА рдЪрд╛рд╣рд┐рдП, рдЬреЛ 3-6 рдХреА рд╕реАрдорд╛ рдореЗрдВ рд╣реЛрдЧреАред

## рд╕реАрдЦрдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреА рдЬрд╛рдВрдЪ

рдЬреИрд╕рд╛ рдХрд┐ рд╣рдордиреЗ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рд╣реИ, рд╕реАрдЦрдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕рдорд╕реНрдпрд╛ рд╕реНрдерд╛рди рдХреА рд╕рдВрд░рдЪрдирд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкреНрд░рд╛рдкреНрдд рдЬреНрдЮрд╛рди рдХреА рдЦреЛрдЬ рдФрд░ рдЕрдиреНрд╡реЗрд╖рдг рдХреЗ рдмреАрдЪ рдПрдХ рд╕рдВрддреБрд▓рди рд╣реИред рд╣рдордиреЗ рджреЗрдЦрд╛ рд╣реИ рдХрд┐ рд╕реАрдЦрдиреЗ рдХреЗ рдкрд░рд┐рдгрд╛рдо (рдПрдХ рдПрдЬреЗрдВрдЯ рдХреЛ рд▓рдХреНрд╖реНрдп рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЫреЛрдЯрд╛ рд░рд╛рд╕реНрддрд╛ рдЦреЛрдЬрдиреЗ рдХреА рдХреНрд╖рдорддрд╛) рдореЗрдВ рд╕реБрдзрд╛рд░ рд╣реБрдЖ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рднреА рджреЗрдЦрдирд╛ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ рдХрд┐ рд╕реАрдЦрдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рджреМрд░рд╛рди рдФрд╕рдд рдкрде рд▓рдВрдмрд╛рдИ рдХреИрд╕реЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдХрд░рддреА рд╣реИ:

## рд╕реАрдЦрдиреЗ рдХреЛ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╕рдВрдХреНрд╖реЗрдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:

- **рдФрд╕рдд рдкрде рд▓рдВрдмрд╛рдИ рдмрдврд╝ рдЬрд╛рддреА рд╣реИ**ред рдпрд╣рд╛рдВ рд╣рдо рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рдкрд╣рд▓реЗ рдФрд╕рдд рдкрде рд▓рдВрдмрд╛рдИ рдмрдврд╝ рдЬрд╛рддреА рд╣реИред рдРрд╕рд╛ рд╢рд╛рдпрдж рдЗрд╕рд▓рд┐рдП рд╣реЛрддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдЬрдм рд╣рдореЗрдВ рдкрд░реНрдпрд╛рд╡рд░рдг рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рдирд╣реАрдВ рдкрддрд╛ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рд╣рдо рдЦрд░рд╛рдм рд░рд╛рдЬреНрдпреЛрдВ, рдкрд╛рдиреА рдпрд╛ рднреЗрдбрд╝рд┐рдпреЗ рдореЗрдВ рдлрдВрд╕рдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рд░рдЦрддреЗ рд╣реИрдВред рдЬреИрд╕реЗ-рдЬреИрд╕реЗ рд╣рдо рдЕрдзрд┐рдХ рд╕реАрдЦрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕ рдЬреНрдЮрд╛рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ, рд╣рдо рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдкрд░реНрдпрд╛рд╡рд░рдг рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╣рдореЗрдВ рдЕрднреА рднреА рд╕реЗрдм рдХрд╣рд╛рдБ рд╣реИрдВ рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдкрддрд╛ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред

- **рдЬреИрд╕реЗ-рдЬреИрд╕реЗ рд╣рдо рдЕрдзрд┐рдХ рд╕реАрдЦрддреЗ рд╣реИрдВ, рдкрде рдХреА рд▓рдВрдмрд╛рдИ рдХрдо рд╣реЛ рдЬрд╛рддреА рд╣реИ**ред рдПрдХ рдмрд╛рд░ рдЬрдм рд╣рдо рдкрд░реНрдпрд╛рдкреНрдд рд╕реАрдЦ рд▓реЗрддреЗ рд╣реИрдВ, рддреЛ рдПрдЬреЗрдВрдЯ рдХреЗ рд▓рд┐рдП рд▓рдХреНрд╖реНрдп рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдкрде рд▓рдВрдмрд╛рдИ рдХрдо рд╣реЛрдиреЗ рд▓рдЧрддреА рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╣рдо рдЕрднреА рднреА рдЕрдиреНрд╡реЗрд╖рдг рдХреЗ рд▓рд┐рдП рдЦреБрд▓реЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рд╣рдо рдЕрдХреНрд╕рд░ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫреЗ рд░рд╛рд╕реНрддреЗ рд╕реЗ рднрдЯрдХрддреЗ рд╣реИрдВ, рдФрд░ рдирдП рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рддреЗ рд╣реИрдВ, рдЬрд┐рд╕рд╕реЗ рд░рд╛рд╕реНрддрд╛ рдЗрд╖реНрдЯрддрдо рд╕реЗ рд▓рдВрдмрд╛ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред

- **рд▓рдВрдмрд╛рдИ рдЕрдЪрд╛рдирдХ рдмрдврд╝ рдЬрд╛рддреА рд╣реИ**ред рдЗрд╕ рдЧреНрд░рд╛рдл рдкрд░ рд╣рдо рдпрд╣ рднреА рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рдХрд┐рд╕реА рдмрд┐рдВрджреБ рдкрд░, рд▓рдВрдмрд╛рдИ рдЕрдЪрд╛рдирдХ рдмрдврд╝ рдЬрд╛рддреА рд╣реИред рдпрд╣ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреА рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдкреНрд░рдХреГрддрд┐ рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдпрд╣ рдХрд┐ рд╣рдо рдХрд┐рд╕реА рдмрд┐рдВрджреБ рдкрд░ Q-Table рдЧреБрдгрд╛рдВрдХ рдХреЛ рдирдП рдорд╛рдиреЛрдВ рдХреЗ рд╕рд╛рде рдЕрдзрд┐рд▓реЗрдЦрд┐рдд рдХрд░рдХреЗ "рдмрд┐рдЧрд╛рдбрд╝" рд╕рдХрддреЗ рд╣реИрдВред рдЖрджрд░реНрд╢ рд░реВрдк рд╕реЗ рдЗрд╕реЗ рд╕реАрдЦрдиреЗ рдХреА рджрд░ рдХреЛ рдХрдо рдХрд░рдХреЗ рдХрдо рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдХреЗ рдЕрдВрдд рдХреА рдУрд░, рд╣рдо Q-Table рдорд╛рдиреЛрдВ рдХреЛ рдПрдХ рдЫреЛрдЯреЗ рдорд╛рди рд╕реЗ рд╣реА рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░рддреЗ рд╣реИрдВ)ред

рдХреБрд▓ рдорд┐рд▓рд╛рдХрд░, рдпрд╣ рдпрд╛рдж рд░рдЦрдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рд╕реАрдЦрдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреА рд╕рдлрд▓рддрд╛ рдФрд░ рдЧреБрдгрд╡рддреНрддрд╛ рдХрд╛рдлреА рд╣рдж рддрдХ рдорд╛рдкрджрдВрдбреЛрдВ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддреА рд╣реИ, рдЬреИрд╕реЗ рд╕реАрдЦрдиреЗ рдХреА рджрд░, рд╕реАрдЦрдиреЗ рдХреА рджрд░ рдореЗрдВ рдХрдореА, рдФрд░ рдЫреВрдЯ рдХрд╛рд░рдХред рдЗрдиреНрд╣реЗрдВ рдЕрдХреНрд╕рд░ **рд╣рд╛рдЗрдкрд░рдкреИрд░рд╛рдореАрдЯрд░реНрд╕** рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ, рддрд╛рдХрд┐ рдЙрдиреНрд╣реЗрдВ **рдкреИрд░рд╛рдореАрдЯрд░реНрд╕** рд╕реЗ рдЕрд▓рдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗ, рдЬрд┐рдиреНрд╣реЗрдВ рд╣рдо рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдХреЗ рджреМрд░рд╛рди рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░рддреЗ рд╣реИрдВ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, Q-Table рдЧреБрдгрд╛рдВрдХ)ред рд╕рд░реНрд╡реЛрддреНрддрдо рд╣рд╛рдЗрдкрд░рдкреИрд░рд╛рдореАрдЯрд░ рдорд╛рдиреЛрдВ рдХреЛ рдЦреЛрдЬрдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ **рд╣рд╛рдЗрдкрд░рдкреИрд░рд╛рдореАрдЯрд░ рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝реЗрд╢рди** рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдпрд╣ рдПрдХ рдЕрд▓рдЧ рд╡рд┐рд╖рдп рдХрд╛ рд╣рдХрджрд╛рд░ рд╣реИред

## [рдкреЛрд╕реНрдЯ-рд▓реЗрдХреНрдЪрд░ рдХреНрд╡рд┐рдЬрд╝](https://gray-sand-07a10f403.1.azurestaticapps.net/quiz/46/)

## рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ
[рдПрдХ рдЕрдзрд┐рдХ рдпрдерд╛рд░реНрдерд╡рд╛рджреА рджреБрдирд┐рдпрд╛](assignment.md)

**рдЕрд╕реНрд╡реАрдХрд░рдг**:
рдпрд╣ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдорд╢реАрди-рдЖрдзрд╛рд░рд┐рдд рдПрдЖрдИ рдЕрдиреБрд╡рд╛рдж рд╕реЗрд╡рд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдЬрдмрдХрд┐ рд╣рдо рд╕рдЯреАрдХрддрд╛ рдХреЗ рд▓рд┐рдП рдкреНрд░рдпрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ, рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЕрдиреБрд╡рд╛рджреЛрдВ рдореЗрдВ рддреНрд░реБрдЯрд┐рдпрд╛рдБ рдпрд╛ рдЧрд▓рддрд┐рдпрд╛рдБ рд╣реЛ рд╕рдХрддреА рд╣реИрдВред рдореВрд▓ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХреЛ рдЙрд╕рдХреА рдореВрд▓ рднрд╛рд╖рд╛ рдореЗрдВ рдкреНрд░рд╛рдорд╛рдгрд┐рдХ рд╕реНрд░реЛрдд рдорд╛рдирд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП, рдкреЗрд╢реЗрд╡рд░ рдорд╛рдирд╡ рдЕрдиреБрд╡рд╛рдж рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИред рдЗрд╕ рдЕрдиреБрд╡рд╛рдж рдХреЗ рдЙрдкрдпреЛрдЧ рд╕реЗ рдЙрддреНрдкрдиреНрди рдХрд┐рд╕реА рднреА рдЧрд▓рддрдлрд╣рдореА рдпрд╛ рдЧрд▓рдд рд╡реНрдпрд╛рдЦреНрдпрд╛ рдХреЗ рд▓рд┐рдП рд╣рдо рдЙрддреНрддрд░рджрд╛рдпреА рдирд╣реАрдВ рд╣реИрдВред