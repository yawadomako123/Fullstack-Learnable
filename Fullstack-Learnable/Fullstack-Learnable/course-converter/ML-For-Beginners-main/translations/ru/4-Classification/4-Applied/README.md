# –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∫—É—Ö–Ω–∏

–í —ç—Ç–æ–º —É—Ä–æ–∫–µ –≤—ã —Å–æ–∑–¥–∞–¥–∏—Ç–µ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—É—é –º–æ–¥–µ–ª—å, –∏—Å–ø–æ–ª—å–∑—É—è –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ —Ç–µ—Ö–Ω–∏–∫, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –∏–∑—É—á–∏–ª–∏ –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —É—Ä–æ–∫–∞—Ö, –∏ —Å –ø–æ–º–æ—â—å—é –≤–∫—É—Å–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –æ –∫—É—Ö–Ω–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –≤—Å–µ–π —ç—Ç–æ–π —Å–µ—Ä–∏–∏. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –≤—ã —Å–æ–∑–¥–∞–¥–∏—Ç–µ –Ω–µ–±–æ–ª—å—à–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏, –∏—Å–ø–æ–ª—å–∑—É—è –≤–µ–±-–∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ Onnx.

–û–¥–Ω–æ –∏–∑ —Å–∞–º—ã—Ö –ø–æ–ª–µ–∑–Ω—ã—Ö –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–π –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è ‚Äî —ç—Ç–æ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π, –∏ —Å–µ–≥–æ–¥–Ω—è –≤—ã –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–≤—ã–π —à–∞–≥ –≤ —ç—Ç–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏!

[![–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è —ç—Ç–æ–≥–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](https://img.youtube.com/vi/17wdM9AHMfg/0.jpg)](https://youtu.be/17wdM9AHMfg "–ü—Ä–∏–∫–ª–∞–¥–Ω–æ–µ ML")

> üé• –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—ã—à–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤–∏–¥–µ–æ: –î–∂–µ–Ω –õ—É–ø–µ—Ä —Å–æ–∑–¥–∞–µ—Ç –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∏—Å–ø–æ–ª—å–∑—É—è –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –∫—É—Ö–Ω–µ

## [–¢–µ—Å—Ç –ø–µ—Ä–µ–¥ –ª–µ–∫—Ü–∏–µ–π](https://gray-sand-07a10f403.1.azurestaticapps.net/quiz/25/)

–í —ç—Ç–æ–º —É—Ä–æ–∫–µ –≤—ã —É–∑–Ω–∞–µ—Ç–µ:

- –ö–∞–∫ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –º–æ–¥–µ–ª—å –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –µ–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Onnx
- –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Netron –¥–ª—è –∏–Ω—Å–ø–µ–∫—Ü–∏–∏ –º–æ–¥–µ–ª–∏
- –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∞—à—É –º–æ–¥–µ–ª—å –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –¥–ª—è –≤—ã–≤–æ–¥–∞

## –ü–æ—Å—Ç—Ä–æ–π—Ç–µ —Å–≤–æ—é –º–æ–¥–µ–ª—å

–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–∫–ª–∞–¥–Ω—ã—Ö ML-—Å–∏—Å—Ç–µ–º —è–≤–ª—è–µ—Ç—Å—è –≤–∞–∂–Ω–æ–π —á–∞—Å—Ç—å—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç—Ç–∏—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –¥–ª—è –≤–∞—à–∏—Ö –±–∏–∑–Ω–µ—Å-—Å–∏—Å—Ç–µ–º. –í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –≤ –≤–∞—à–∏—Ö –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö (–∏, —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –≤ –æ—Ñ—Ñ–ª–∞–π–Ω-–∫–æ–Ω—Ç–µ–∫—Å—Ç–µ, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ), –∏—Å–ø–æ–ª—å–∑—É—è Onnx.

–í [–ø—Ä–µ–¥—ã–¥—É—â–µ–º —É—Ä–æ–∫–µ](../../3-Web-App/1-Web-App/README.md) –≤—ã —Å–æ–∑–¥–∞–ª–∏ –º–æ–¥–µ–ª—å —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ –æ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è—Ö –ù–õ–û, "–∑–∞—Å–æ–ª–∏–ª–∏" –µ–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ Flask. –•–æ—Ç—è —ç—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ—á–µ–Ω—å –ø–æ–ª–µ–∑–Ω–∞ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è, —ç—Ç–æ –ø–æ–ª–Ω–æ—Å—Ç–µ–∫–æ–≤–æ–µ Python-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∏ –≤–∞—à–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –º–æ–≥—É—Ç –≤–∫–ª—é—á–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ JavaScript-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–í —ç—Ç–æ–º —É—Ä–æ–∫–µ –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –Ω–∞ –æ—Å–Ω–æ–≤–µ JavaScript –¥–ª—è –≤—ã–≤–æ–¥–∞. –û–¥–Ω–∞–∫–æ —Å–Ω–∞—á–∞–ª–∞ –≤–∞–º –Ω—É–∂–Ω–æ –æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–µ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å Onnx.

## –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ - –æ–±—É—á–∏—Ç–µ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—É—é –º–æ–¥–µ–ª—å

–°–Ω–∞—á–∞–ª–∞ –æ–±—É—á–∏—Ç–µ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—É—é –º–æ–¥–µ–ª—å, –∏—Å–ø–æ–ª—å–∑—É—è –æ—á–∏—â–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –æ –∫—É—Ö–Ω—è—Ö, –∫–æ—Ç–æ—Ä—ã–π –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏.

1. –ù–∞—á–Ω–∏—Ç–µ —Å –∏–º–ø–æ—Ä—Ç–∞ –ø–æ–ª–µ–∑–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫:

    ```python
    !pip install skl2onnx
    import pandas as pd 
    ```

    –í–∞–º –Ω—É–∂–µ–Ω '[skl2onnx](https://onnx.ai/sklearn-onnx/)', —á—Ç–æ–±—ã –ø–æ–º–æ—á—å –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–∞—à—É –º–æ–¥–µ–ª—å Scikit-learn –≤ —Ñ–æ—Ä–º–∞—Ç Onnx.

1. –ó–∞—Ç–µ–º —Ä–∞–±–æ—Ç–∞–π—Ç–µ —Å –≤–∞—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ —Ç–∞–∫ –∂–µ, –∫–∞–∫ –≤—ã –¥–µ–ª–∞–ª–∏ —ç—Ç–æ –≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —É—Ä–æ–∫–∞—Ö, –ø—Ä–æ—á–∏—Ç–∞–≤ CSV-—Ñ–∞–π–ª —Å –ø–æ–º–æ—â—å—é `read_csv()`:

    ```python
    data = pd.read_csv('../data/cleaned_cuisines.csv')
    data.head()
    ```

1. –£–¥–∞–ª–∏—Ç–µ –ø–µ—Ä–≤—ã–µ –¥–≤–∞ –Ω–µ–Ω—É–∂–Ω—ã—Ö —Å—Ç–æ–ª–±—Ü–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –¥–∞–Ω–Ω—ã–µ –∫–∞–∫ 'X':

    ```python
    X = data.iloc[:,2:]
    X.head()
    ```

1. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –º–µ—Ç–∫–∏ –∫–∞–∫ 'y':

    ```python
    y = data[['cuisine']]
    y.head()
    
    ```

### –ù–∞—á–Ω–∏—Ç–µ —Ä—É—Ç–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ

–ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É 'SVC', –∫–æ—Ç–æ—Ä–∞—è –∏–º–µ–µ—Ç —Ö–æ—Ä–æ—à—É—é —Ç–æ—á–Ω–æ—Å—Ç—å.

1. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–∑ Scikit-learn:

    ```python
    from sklearn.model_selection import train_test_split
    from sklearn.svm import SVC
    from sklearn.model_selection import cross_val_score
    from sklearn.metrics import accuracy_score,precision_score,confusion_matrix,classification_report
    ```

1. –†–∞–∑–¥–µ–ª–∏—Ç–µ –æ–±—É—á–∞—é—â–∏–µ –∏ —Ç–µ—Å—Ç–æ–≤—ã–µ –Ω–∞–±–æ—Ä—ã:

    ```python
    X_train, X_test, y_train, y_test = train_test_split(X,y,test_size=0.3)
    ```

1. –ü–æ—Å—Ç—Ä–æ–π—Ç–µ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—É—é –º–æ–¥–µ–ª—å SVC —Ç–∞–∫, –∫–∞–∫ –≤—ã –¥–µ–ª–∞–ª–∏ —ç—Ç–æ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —É—Ä–æ–∫–µ:

    ```python
    model = SVC(kernel='linear', C=10, probability=True,random_state=0)
    model.fit(X_train,y_train.values.ravel())
    ```

1. –¢–µ–ø–µ—Ä—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤–∞—à—É –º–æ–¥–µ–ª—å, –≤—ã–∑–≤–∞–≤ `predict()`:

    ```python
    y_pred = model.predict(X_test)
    ```

1. –í—ã–≤–µ–¥–∏—Ç–µ –æ—Ç—á–µ—Ç –æ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –º–æ–¥–µ–ª–∏:

    ```python
    print(classification_report(y_test,y_pred))
    ```

    –ö–∞–∫ –º—ã –≤–∏–¥–µ–ª–∏ —Ä–∞–Ω–µ–µ, —Ç–æ—á–Ω–æ—Å—Ç—å —Ö–æ—Ä–æ—à–∞:

    ```output
                    precision    recall  f1-score   support
    
         chinese       0.72      0.69      0.70       257
          indian       0.91      0.87      0.89       243
        japanese       0.79      0.77      0.78       239
          korean       0.83      0.79      0.81       236
            thai       0.72      0.84      0.78       224
    
        accuracy                           0.79      1199
       macro avg       0.79      0.79      0.79      1199
    weighted avg       0.79      0.79      0.79      1199
    ```

### –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤–∞—à—É –º–æ–¥–µ–ª—å –≤ Onnx

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –≤—ã–ø–æ–ª–Ω—è–µ—Ç–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º —Ç–µ–Ω–∑–æ—Ä–æ–≤. –í —ç—Ç–æ–º –Ω–∞–±–æ—Ä–µ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–æ 380 –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤, –ø–æ—ç—Ç–æ–º—É –≤–∞–º –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —ç—Ç–æ —á–∏—Å–ª–æ –≤ `FloatTensorType`:

1. –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ, –∏—Å–ø–æ–ª—å–∑—É—è —á–∏—Å–ª–æ —Ç–µ–Ω–∑–æ—Ä–æ–≤ 380.

    ```python
    from skl2onnx import convert_sklearn
    from skl2onnx.common.data_types import FloatTensorType
    
    initial_type = [('float_input', FloatTensorType([None, 380]))]
    options = {id(model): {'nocl': True, 'zipmap': False}}
    ```

1. –°–æ–∑–¥–∞–π—Ç–µ onx –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ —Ñ–∞–π–ª **model.onnx**:

    ```python
    onx = convert_sklearn(model, initial_types=initial_type, options=options)
    with open("./model.onnx", "wb") as f:
        f.write(onx.SerializeToString())
    ```

    > –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å [–æ–ø—Ü–∏–∏](https://onnx.ai/sklearn-onnx/parameterized.html) –≤ –≤–∞—à–µ–º —Å–∫—Ä–∏–ø—Ç–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –º—ã –ø–µ—Ä–µ–¥–∞–ª–∏ 'nocl' –∫–∞–∫ True –∏ 'zipmap' –∫–∞–∫ False. –ü–æ—Å–∫–æ–ª—å–∫—É —ç—Ç–æ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å, —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª–∏—Ç—å ZipMap, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ). `nocl` refers to class information being included in the model. Reduce your model's size by setting `nocl` to 'True'. 

Running the entire notebook will now build an Onnx model and save it to this folder.

## View your model

Onnx models are not very visible in Visual Studio code, but there's a very good free software that many researchers use to visualize the model to ensure that it is properly built. Download [Netron](https://github.com/lutzroeder/Netron) and  open your model.onnx file. You can see your simple model visualized, with its 380 inputs and classifier listed:

![Netron visual](../../../../translated_images/netron.a05f39410211915e0f95e2c0e8b88f41e7d13d725faf660188f3802ba5c9e831.ru.png)

Netron is a helpful tool to view your models.

Now you are ready to use this neat model in a web app. Let's build an app that will come in handy when you look in your refrigerator and try to figure out which combination of your leftover ingredients you can use to cook a given cuisine, as determined by your model.

## Build a recommender web application

You can use your model directly in a web app. This architecture also allows you to run it locally and even offline if needed. Start by creating an `index.html` file in the same folder where you stored your `model.onnx` —Ñ–∞–π–ª.

1. –í —ç—Ç–æ–º —Ñ–∞–π–ª–µ _index.html_ –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑–º–µ—Ç–∫—É:

    ```html
    <!DOCTYPE html>
    <html>
        <header>
            <title>Cuisine Matcher</title>
        </header>
        <body>
            ...
        </body>
    </html>
    ```

1. –¢–µ–ø–µ—Ä—å, —Ä–∞–±–æ—Ç–∞—è –≤–Ω—É—Ç—Ä–∏ —Ç–µ–≥–æ–≤ `body`, –¥–æ–±–∞–≤—å—Ç–µ –Ω–µ–º–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ç–∫–∏, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Ñ–ª–∞–∂–∫–æ–≤, –æ—Ç—Ä–∞–∂–∞—é—â–∏—Ö –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã:

    ```html
    <h1>Check your refrigerator. What can you create?</h1>
            <div id="wrapper">
                <div class="boxCont">
                    <input type="checkbox" value="4" class="checkbox">
                    <label>apple</label>
                </div>
            
                <div class="boxCont">
                    <input type="checkbox" value="247" class="checkbox">
                    <label>pear</label>
                </div>
            
                <div class="boxCont">
                    <input type="checkbox" value="77" class="checkbox">
                    <label>cherry</label>
                </div>
    
                <div class="boxCont">
                    <input type="checkbox" value="126" class="checkbox">
                    <label>fenugreek</label>
                </div>
    
                <div class="boxCont">
                    <input type="checkbox" value="302" class="checkbox">
                    <label>sake</label>
                </div>
    
                <div class="boxCont">
                    <input type="checkbox" value="327" class="checkbox">
                    <label>soy sauce</label>
                </div>
    
                <div class="boxCont">
                    <input type="checkbox" value="112" class="checkbox">
                    <label>cumin</label>
                </div>
            </div>
            <div style="padding-top:10px">
                <button onClick="startInference()">What kind of cuisine can you make?</button>
            </div> 
    ```

    –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –∫–∞–∂–¥–æ–º—É —Ñ–ª–∞–∂–∫—É –ø—Ä–∏—Å–≤–æ–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ. –≠—Ç–æ –æ—Ç—Ä–∞–∂–∞–µ—Ç –∏–Ω–¥–µ–∫—Å, –≥–¥–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –Ω–∞–±–æ—Ä–æ–º –¥–∞–Ω–Ω—ã—Ö. –ù–∞–ø—Ä–∏–º–µ—Ä, —è–±–ª–æ–∫–æ –≤ —ç—Ç–æ–º –∞–ª—Ñ–∞–≤–∏—Ç–Ω–æ–º —Å–ø–∏—Å–∫–µ –∑–∞–Ω–∏–º–∞–µ—Ç –ø—è—Ç—ã–π —Å—Ç–æ–ª–±–µ—Ü, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ '4', —Ç–∞–∫ –∫–∞–∫ –º—ã –Ω–∞—á–∏–Ω–∞–µ–º —Å—á–∏—Ç–∞—Ç—å —Å 0. –í—ã –º–æ–∂–µ—Ç–µ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ [—Ç–∞–±–ª–∏—Ü–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤](../../../../4-Classification/data/ingredient_indexes.csv), —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –∏–Ω–¥–µ–∫—Å –¥–∞–Ω–Ω–æ–≥–æ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞.

    –ü—Ä–æ–¥–æ–ª–∂–∞—è –≤–∞—à—É —Ä–∞–±–æ—Ç—É –≤ —Ñ–∞–π–ª–µ index.html, –¥–æ–±–∞–≤—å—Ç–µ –±–ª–æ–∫ —Å–∫—Ä–∏–ø—Ç–∞, –≥–¥–µ –º–æ–¥–µ–ª—å –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–∫—Ä—ã–≤–∞—é—â–µ–≥–æ `</div>`.

1. –°–Ω–∞—á–∞–ª–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ [Onnx Runtime](https://www.onnxruntime.ai/):

    ```html
    <script src="https://cdn.jsdelivr.net/npm/onnxruntime-web@1.9.0/dist/ort.min.js"></script> 
    ```

    > Onnx Runtime –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤–∞—à–∏—Ö –º–æ–¥–µ–ª–µ–π Onnx –Ω–∞ —à–∏—Ä–æ–∫–æ–º —Å–ø–µ–∫—Ç—Ä–µ –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º, –≤–∫–ª—é—á–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ API –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

1. –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ Runtime —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–∑–≤–∞—Ç—å –µ–≥–æ:

    ```html
    <script>
        const ingredients = Array(380).fill(0);
        
        const checks = [...document.querySelectorAll('.checkbox')];
        
        checks.forEach(check => {
            check.addEventListener('change', function() {
                // toggle the state of the ingredient
                // based on the checkbox's value (1 or 0)
                ingredients[check.value] = check.checked ? 1 : 0;
            });
        });

        function testCheckboxes() {
            // validate if at least one checkbox is checked
            return checks.some(check => check.checked);
        }

        async function startInference() {

            let atLeastOneChecked = testCheckboxes()

            if (!atLeastOneChecked) {
                alert('Please select at least one ingredient.');
                return;
            }
            try {
                // create a new session and load the model.
                
                const session = await ort.InferenceSession.create('./model.onnx');

                const input = new ort.Tensor(new Float32Array(ingredients), [1, 380]);
                const feeds = { float_input: input };

                // feed inputs and run
                const results = await session.run(feeds);

                // read from results
                alert('You can enjoy ' + results.label.data[0] + ' cuisine today!')

            } catch (e) {
                console.log(`failed to inference ONNX model`);
                console.error(e);
            }
        }
               
    </script>
    ```

–í —ç—Ç–æ–º –∫–æ–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—â–µ–π:

1. –í—ã —Å–æ–∑–¥–∞–ª–∏ –º–∞—Å—Å–∏–≤ –∏–∑ 380 –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (1 –∏–ª–∏ 0), –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ –º–æ–¥–µ–ª—å –¥–ª—è –≤—ã–≤–æ–¥–∞, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, –æ—Ç–º–µ—á–µ–Ω –ª–∏ —Ñ–ª–∞–∂–æ–∫ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞.
2. –í—ã —Å–æ–∑–¥–∞–ª–∏ –º–∞—Å—Å–∏–≤ —Ñ–ª–∞–∂–∫–æ–≤ –∏ —Å–ø–æ—Å–æ–± –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –±—ã–ª–∏ –ª–∏ –æ–Ω–∏ –æ—Ç–º–µ—á–µ–Ω—ã –≤ `init` function that is called when the application starts. When a checkbox is checked, the `ingredients` array is altered to reflect the chosen ingredient.
3. You created a `testCheckboxes` function that checks whether any checkbox was checked.
4. You use `startInference` function when the button is pressed and, if any checkbox is checked, you start inference.
5. The inference routine includes:
   1. Setting up an asynchronous load of the model
   2. Creating a Tensor structure to send to the model
   3. Creating 'feeds' that reflects the `float_input` input that you created when training your model (you can use Netron to verify that name)
   4. Sending these 'feeds' to the model and waiting for a response

## Test your application

Open a terminal session in Visual Studio Code in the folder where your index.html file resides. Ensure that you have [http-server](https://www.npmjs.com/package/http-server) installed globally, and type `http-server` –Ω–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–∏. –î–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è localhost, –∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å –≤–∞—à–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫–∞–∫–∞—è –∫—É—Ö–Ω—è —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤:

![–≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤](../../../../translated_images/web-app.4c76450cabe20036f8ec6d5e05ccc0c1c064f0d8f2fe3304d3bcc0198f7dc139.ru.png)

–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º, –≤—ã —Å–æ–∑–¥–∞–ª–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è '—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π' —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–æ–ª—è–º–∏. –ü–æ—Ç—Ä–∞—Ç—å—Ç–µ –≤—Ä–µ–º—è –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É —ç—Ç–æ–π —Å–∏—Å—Ç–µ–º—ã!
## üöÄ–ó–∞–¥–∞—á–∞

–í–∞—à–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—á–µ–Ω—å –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–æ, –ø–æ—ç—Ç–æ–º—É –ø—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –µ–≥–æ —Ä–∞–∑–≤–∏–≤–∞—Ç—å, –∏—Å–ø–æ–ª—å–∑—É—è –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –∏ –∏—Ö –∏–Ω–¥–µ–∫—Å—ã –∏–∑ –¥–∞–Ω–Ω—ã—Ö [ingredient_indexes](../../../../4-Classification/data/ingredient_indexes.csv). –ö–∞–∫–∏–µ —Å–æ—á–µ—Ç–∞–Ω–∏—è –≤–∫—É—Å–æ–≤ –ø–æ–º–æ–≥–∞—é—Ç —Å–æ–∑–¥–∞—Ç—å –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –±–ª—é–¥–æ?

## [–¢–µ—Å—Ç –ø–æ—Å–ª–µ –ª–µ–∫—Ü–∏–∏](https://gray-sand-07a10f403.1.azurestaticapps.net/quiz/26/)

## –û–±–∑–æ—Ä –∏ —Å–∞–º–æ–æ–±—É—á–µ–Ω–∏–µ

–•–æ—Ç—è —ç—Ç–æ—Ç —É—Ä–æ–∫ –ª–∏—à—å –∑–∞—Ç—Ä–æ–Ω—É–ª –ø–æ–ª–µ–∑–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –¥–ª—è –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ –ø–∏—â–∏, —ç—Ç–∞ –æ–±–ª–∞—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è ML –æ—á–µ–Ω—å –±–æ–≥–∞—Ç–∞ –ø—Ä–∏–º–µ—Ä–∞–º–∏. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ –±–æ–ª—å—à–µ –æ —Ç–æ–º, –∫–∞–∫ —ç—Ç–∏ —Å–∏—Å—Ç–µ–º—ã —Å–æ–∑–¥–∞—é—Ç—Å—è:

- https://www.sciencedirect.com/topics/computer-science/recommendation-engine
- https://www.technologyreview.com/2014/08/25/171547/the-ultimate-challenge-for-recommendation-engines/
- https://www.technologyreview.com/2015/03/23/168831/everything-is-a-recommendation/

## –ó–∞–¥–∞–Ω–∏–µ 

[–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å](assignment.md)

**–û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**:  
–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –±—ã–ª –ø–µ—Ä–µ–≤–µ–¥–µ–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–∞—à–∏–Ω–Ω—ã—Ö –ø–µ—Ä–µ–≤–æ–¥—á–µ—Å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ò–ò. –•–æ—Ç—è –º—ã —Å—Ç—Ä–µ–º–∏–º—Å—è –∫ —Ç–æ—á–Ω–æ—Å—Ç–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –∏–º–µ–π—Ç–µ –≤ –≤–∏–¥—É, —á—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ—à–∏–±–∫–∏ –∏–ª–∏ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–∏. –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞ –µ–≥–æ —Ä–æ–¥–Ω–æ–º —è–∑—ã–∫–µ —Å–ª–µ–¥—É–µ—Ç —Å—á–∏—Ç–∞—Ç—å –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º. –î–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥. –ú—ã –Ω–µ –Ω–µ—Å–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –ª—é–±—ã–µ –Ω–µ–¥–æ—Ä–∞–∑—É–º–µ–Ω–∏—è –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–µ –∏—Å—Ç–æ–ª–∫–æ–≤–∞–Ω–∏—è, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç—Ç–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞.